<div id="contentbox">
 <div class="widget">
  <p />
<h2>
  <a name="Week_of_the_Year_and_Day_of_the_"> Week of the Year, and Day of the Week/Month/Year </a>
</h2>
<p />
<h3>
  <a name="Problem"> Problem </a>
</h3>
<p />
Given a date, you need to find out what week of the year, day of the
week, day of the month, or day of the year that the date falls on.
<p />
<h3>
  <a name="Solution"> Solution </a>
</h3>
<p />
We'll use our good all friend
<a href="http://srfi.schemers.org/srfi-19/" target="_top">SRFI 19</a>, and by using
<code>date-&gt;string</code>, with the appropriate conversion specifiers, we'll get
what we want:
<p />
<div class="scheme">
  <pre>(<span class="keyword">require</span> (<span class="variable">lib</span> <span class="selfeval">"19.ss"</span> <span class="selfeval">"srfi"</span>))
(<span class="keyword">let</span> ((<span class="variable">today</span> (<span class="variable">current-date</span>)))
  (<span class="builtin">values</span>
   (<span class="variable">date-&gt;string</span> <span class="variable">today</span>)
   (<span class="variable">date-&gt;string</span> <span class="variable">today</span>
                 <span class="selfeval">"Week No.: ~V, day: (~w of week) (~d of month)
                 (~j of year)"</span>)))
</pre>
</div>
<p />
<strong>Note:</strong> there are several other specifiers that you can pass to <code>date-&gt;string</code>.
<p />
If what you need is the actual numbers, then you can extract this
information from the date instance yourself:
<p />
<div class="scheme">
  <pre>(<span class="keyword">require</span> (<span class="variable">lib</span> <span class="selfeval">"19.ss"</span> <span class="selfeval">"srfi"</span>))
(<span class="keyword">let</span> ((<span class="variable">today</span> (<span class="variable">current-date</span>)))
  (<span class="builtin">values</span>
   (<span class="variable">date-&gt;string</span> <span class="variable">today</span>)
   <span class="comment">;; `1' means `Monday' is the first day of the week:
</span>   (<span class="variable">date-week-number</span> <span class="variable">today</span> <span class="selfeval">1</span>)
   (<span class="variable">date-week-day</span> <span class="variable">today</span>)
   (<span class="variable">date-day</span> <span class="variable">today</span>)
   (<span class="variable">date-year-day</span> <span class="variable">today</span>)))
</pre>
</div>
<p />
<p />
<h3>
  <a name="Discussion"> Discussion </a>
</h3>
<p />
If you are wondering what to use when you are using the Epoch
(seconds) representation of the given date, then you should consider
transforming your number of seconds to date, and then use this recipe.  See recipe <a href="/Cookbook/TimeEpochToTime">TimeEpochToTime</a> to pass from seconds to dates.
<p />
<h3>
  <a name="See_Also"> See Also </a>
</h3>
<p />
<a href="http://srfi.schemers.org/srfi-19/" target="_top">SRFI 19: Time Data Types and Procedures</a>
<p />
<p />
<p />
<h4>
  <a name="Comments_here"> Comments here </a>
</h4>
<p />
-- <a href="/Main/FranciscoSolsona">FranciscoSolsona</a> - 05 May 2004
  <p />
<table border="1" cellspacing="0" cellpadding="0">
   <tr>
  <th colspan="2" align="center" bgcolor="#99CCCC"> <a href="/Cookbook/CookbookForm">CookbookForm</a> </th>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicType">TopicType</a>:</th>
  <td align="left"> Recipe </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/ParentTopic">ParentTopic</a>:</th>
  <td align="left"> <a href="/Cookbook/TimeRecipes">TimeRecipes</a> </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicOrder">TopicOrder</a>:</th>
  <td align="left"> 070 </td>
</tr>
</table>
<p />
 </div>
</div>
