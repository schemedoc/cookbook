<div id="contentbox">
 <div class="widget">
  <p />
<h2>
  <a name="Generating_Biased_Random_Numbers"> Generating Biased Random Numbers </a>
</h2>
<p />
<h3>
  <a name="Problem"> Problem </a>
</h3>
<p />
Instead of producing a series of numbers distributed uniformly over an interval, we
need data following one of the classical distributions such as the normal distribution
(i.e. the numbers should give a "bell curve").
<p />
<h3>
  <a name="Solution"> Solution </a>
</h3>
<p />
<h4>
  <a name="The_library_solution"> The library solution </a>
</h4>
<p />
The easy solution is use the <a href="http://planet.plt-scheme.org/300/docs/schematics/random.plt/1/0/doc.txt" target="_top">"random.plt"</a> library from <a href="/Cookbook/PLaneT">PLaneT</a>.
<p />
Let's try generating numbers with a Gaussian distribution (a normal distribution
with mean 0 and standard deviance 1):
<p />
500 Can't connect to 127.0.0.1:8778 (connect: Connection refused)
<p />
<p />
If we want to mimick a stocastic variable, we can use <code>random-source-make-gaussians</code> and
a source of random bits.
<p />
500 Can't connect to 127.0.0.1:8778 (connect: Connection refused)
<p />
<p />
Alternatively, one could simple define <code>X</code> as
500 Can't connect to 127.0.0.1:8778 (connect: Connection refused)
<p />
<p />
<h4>
  <a name="The_do_it_your_self_solution"> The do it your self  solution </a>
</h4>
<p />
Given a distribution, lookup an algorithm in a statistics reference.
If you can't find an algorithm, consult a numerical analyst.
<p />
Let's examine the case of the normal distribution. The two parameters <code>mu</code> (mean)
and <code>sigma</code> (standard deviance) determines a specific normal distribution.
<p />
500 Can't connect to 127.0.0.1:8778 (connect: Connection refused)
<p />
<p />
An example of usage:
500 Can't connect to 127.0.0.1:8778 (connect: Connection refused)
<p />
<p />
If you are unsatisfied with the fact that you get the exact same numbers as above,
then randomize the source of random numbers:
500 Can't connect to 127.0.0.1:8778 (connect: Connection refused)
<p />
<p />
<h3>
  <a name="Discussion"> Discussion </a>
</h3>
<p />
The algorithm used is the polar Box Muller method. The algorithm takes two independent uniformly distributed random numbers between 0 and 1 (represented in the code as <code>(random-real)</code>) and generates two numbers with a mean of my and  standard deviation sigma.  The method produces two numbers at a time, so since we only need one, the second is saved for later in the variable <code>next</code>.
<p />
<p />
<hr>
<p />
<h3>
  <a name="Comments_about_this_recipe"> Comments about this recipe </a>
</h3>
<p />
Note that the Perl Cookbook includes an interesting discussion of converting a set of values (and weights) into a distribution.  This should also be converted to Scheme and shown here.
<p />
Mathematically-inclined Schemers should also take a good look at <a href="http://ja.soegaard.net/planet/html/schematics/random.plt/current/random.ss" target="_top">random.ss</a>, which
contains these and many other statistical methods.
<p />
It's also worth noting that if a bell-curve type thing is all you're looking for, generating two or more random numbers and taking the average will tend to favor the middle values.  For example, consider a pair of dice: there is exactly one combination out of 36 that yields 2 and one that yields 12 (the outlying  values), while there are six combinations that yield 7 (the center value).  You could also use a weighed average to reduce the effect if averaging two random numbers produces a bell curve which is too steep for your application.
<p />
<p />
<h3>
  <a name="Contributors"> Contributors </a>
</h3>
<p />
-- <a href="/Main/BrentAFulgham">BrentAFulgham</a> - 14 May 2004
<p />
-- <a href="/Main/JensAxelSoegaard">JensAxelSoegaard</a> - 01 Jun 2004
-- <a href="/Main/JensAxelSoegaard">JensAxelSoegaard</a> - 12 Dec 2006
<p />
<p />
[TODO: Move the following remarks to another recipe]
<p />
If you wish to randomly select from a set of weights and values, convert the weights into a probability distribution, then use the resulting distribution to pick a value.
<p />
If you have a list of weights and values you want to randomly pick from, follow this two-step process: First, turn the weights into a probability distribution with weight_to_dist below, and then use the distribution to randomly pick a value with weighted_rand:
<p />
[TODO: Use the random-source-make-discretes from random.ss to solve the above problem]
<p />
  <p />
<table border="1" cellspacing="0" cellpadding="0">
   <tr>
  <th colspan="2" align="center" bgcolor="#99CCCC"> <a href="/Cookbook/CookbookForm">CookbookForm</a> </th>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicType">TopicType</a>:</th>
  <td align="left"> Recipe </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/ParentTopic">ParentTopic</a>:</th>
  <td align="left"> <a href="/Cookbook/NumberRecipes">NumberRecipes</a> </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicOrder">TopicOrder</a>:</th>
  <td align="left"> 100 </td>
</tr>
</table>
<p />
 </div>
</div>
