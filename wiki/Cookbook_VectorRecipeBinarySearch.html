<div id="contentbox">
 <div class="widget">
  <p />
<h2>
  <a name="Binary_Search_of_Vector"> Binary Search of Vector </a>
</h2>
<p />
<div class="scheme">
  <pre><span class="comment">; binary-search : vector-of-numbers number -&gt; (union #f integer)
</span><span class="comment">;   return the index of x in the sorted vector v if x is in v,
</span><span class="comment">;   otherwise return #f
</span>(<span class="keyword">define</span> (<span class="variable">binary-search</span> <span class="variable">v</span> <span class="variable">x</span>)
  (<span class="keyword">define</span> (<span class="variable">get</span> <span class="variable">i</span>)   (<span class="builtin">vector-ref</span> <span class="variable">v</span> <span class="variable">i</span>))
  (<span class="keyword">let</span> <span class="variable">loop</span> ([<span class="variable">low</span>  <span class="selfeval">0</span>]
             [<span class="variable">high</span> (<span class="builtin">vector-length</span> <span class="variable">v</span>)])
    (<span class="keyword">let</span> ([<span class="variable">mid</span> (<span class="builtin">quotient</span> (<span class="builtin">+</span> <span class="variable">low</span> <span class="variable">high</span>) <span class="selfeval">2</span>)])
      (<span class="keyword">cond</span>
        [(<span class="builtin">&gt;=</span> <span class="variable">low</span> <span class="variable">high</span>)   <span class="selfeval">#f</span>]
        [(<span class="builtin">=</span> (<span class="variable">get</span> <span class="variable">mid</span>) <span class="variable">x</span>) <span class="variable">mid</span>]
        [(<span class="builtin">&lt;</span> (<span class="variable">get</span> <span class="variable">mid</span>) <span class="variable">x</span>) (<span class="variable">loop</span> (<span class="builtin">+</span> <span class="variable">mid</span> <span class="selfeval">1</span>) <span class="variable">high</span>)]
        [<span class="keyword">else</span>            (<span class="variable">loop</span> <span class="variable">low</span>       <span class="variable">mid</span>)]))))
(<span class="keyword">define</span> (<span class="variable">binary-searcher</span> <span class="variable">v</span>)
  (<span class="keyword">lambda</span> (<span class="variable">x</span>)
    (<span class="variable">binary-search</span> <span class="variable">v</span> <span class="variable">x</span>)))
</pre>
</div>
<p />
<div class="scheme">
  <pre>(<span class="builtin">map</span> (<span class="variable">binary-searcher</span> (<span class="builtin">vector</span> <span class="selfeval">1</span> <span class="selfeval">3</span> <span class="selfeval">5</span> <span class="selfeval">7</span> <span class="selfeval">9</span> <span class="selfeval">11</span>))
     (<span class="builtin">list</span> <span class="selfeval">0</span> <span class="selfeval">1</span> <span class="selfeval">2</span> <span class="selfeval">3</span> <span class="selfeval">4</span> <span class="selfeval">5</span> <span class="selfeval">6</span> <span class="selfeval">7</span> <span class="selfeval">8</span> <span class="selfeval">9</span> <span class="selfeval">10</span> <span class="selfeval">11</span> <span class="selfeval">12</span>))
<span class="comment">; =&gt; (#f 0 #f 1 #f 2 #f 3 #f 4 #f 5 #f)
</span></pre>
</div>
<p />
<p />
<p />
-- <a href="/Main/JensAxelSoegaard">JensAxelSoegaard</a> - 19 Apr 2004
<p />
<br>
<hr>
  <p />
<table border="1" cellspacing="0" cellpadding="0">
   <tr>
  <th colspan="2" align="center" bgcolor="#99CCCC"> <a href="/Cookbook/CookbookForm">CookbookForm</a> </th>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicType">TopicType</a>:</th>
  <td align="left"> Recipe </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/ParentTopic">ParentTopic</a>:</th>
  <td align="left"> <a href="/Cookbook/VectorRecipes">VectorRecipes</a> </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> Other Parents:</th>
  <td align="left">  </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> Next Topic:</th>
  <td align="left">  </td>
</tr>
</table>
<p />
 </div>
</div>
