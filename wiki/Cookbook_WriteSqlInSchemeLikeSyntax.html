<div id="contentbox">
 <div class="widget">
  <p />
<h2><a name="Write_SQL_In_Scheme_Like_Syntax"> </a> Write SQL In Scheme Like Syntax </h2>
<p />
<h3>
  <a name="Problem"> Problem </a>
</h3>
Writing SQL queries, by writing strings using "string-append" can be a pain.  a sexp would make life easier.
<p />
<p />
<h3>
  <a name="Solution"> Solution </a>
</h3>
(require (planet "sql.scm" ("soegaard" "sqlite.plt")))
<p />
<p />
<h3>
  <a name="Discussion"> Discussion </a>
</h3>
sql.scm was intended for sqlite, so you need to use some workarounds sometimes.
<p />
When you need to reference a fieldname with a space in it, try:
<p />
(SELECT ALL (|"field one"| field2) FROM table)
<p />
by using the pipe, you can force many things.  For example, Postgresql allows
<p />
SELECT DISTINCT ON (groupname) field1, groupname, field3 FROM table1
<p />
you can do this in sql.scm with:
<p />
(SELECT DISTINCT (|ON (groupname) field1| groupname field3) FROM table1)
<p />
<p />
<p />
<p />
<p />
<p />
<hr>
<p />
<h3>
  <a name="Comments_about_this_recipe"> Comments about this recipe </a>
</h3>
<p />
<h3>
  <a name="Contributors"> Contributors </a>
</h3>
<p />
-- <a href="/Main/HiSeeComments">HiSeeComments</a> - 01 Jul 2008
  <p />
<table border="1" cellspacing="0" cellpadding="0">
   <tr>
  <th colspan="2" align="center" bgcolor="#99CCCC"> <a href="/Cookbook/CookbookForm">CookbookForm</a> </th>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicType">TopicType</a>:</th>
  <td align="left"> Recipe </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/ParentTopic">ParentTopic</a>:</th>
  <td align="left"> <a href="/Cookbook/DatabaseRecipes">DatabaseRecipes</a> </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicOrder">TopicOrder</a>:</th>
  <td align="left"> 999 </td>
</tr>
</table>
<p />
 </div>
</div>
