<div id="contentbox">
 <div class="widget">
  <p />
<h2>
  <a name="Reversing_a_String_by_Words_or_C"> Reversing a String by Words or Characters </a>
</h2>
<h3>
  <a name="Problem"> Problem </a>
</h3>
You want to reverse the words or characters in a string
<h3>
  <a name="Solution"> Solution </a>
</h3>
Wait, don't tell me, it's... <a href="/Cookbook/SRFI">SRFI</a>-13!  <code>string-reverse</code> will reverse the characters of a string, and <code>string-reverse!</code> will do the same, in place.
<div class="scheme">
  <pre><span class="builtin">&gt;</span> (<span class="keyword">require</span> (<span class="variable">lib</span> <span class="selfeval">"string.ss"</span> <span class="selfeval">"srfi"</span> <span class="selfeval">"13"</span>))
<span class="builtin">&gt;</span> (<span class="variable">string-reverse</span> <span class="selfeval">"Hello, World!"</span>)
<span class="selfeval">"!dlroW ,olleH"</span>
</pre>
</div>
<p />
Reversing a string by words is a combination of list and string operations:
<div class="scheme">
  <pre><span class="builtin">&gt;</span> (<span class="variable">string-join</span> (<span class="builtin">reverse</span> (<span class="variable">string-tokenize</span> <span class="selfeval">"Hello, World!"</span>)) <span class="selfeval">" "</span>)
<span class="selfeval">"World! Hello,"</span>
</pre>
</div>
<h3>
  <a name="Discussion"> Discussion </a>
</h3>
<code>string-reverse</code> is standard CS 101 stuff, so there's not much to discuss there.  The 2nd recipe is a bit more interesting.  This works by reversing the output of <code>string-tokenize</code>, then joining the list back into a single string, delimiting each word with a space.  The way <code>string-tokenize</code> works is to collect tokens composed of the characters you want to keep (by default, <code>char-set:graphic</code>), terminating a token at the first occurrence of any character not in the set, and discarding any characters not in the set.  <code>char-set:graphic</code> gives you a pretty lenient definition of "word".  Let's say you had a more stringent definition, where "word" means alphanumeric characters.
<div class="scheme">
  <pre><span class="builtin">&gt;</span> (<span class="variable">string-join</span> (<span class="builtin">reverse</span> (<span class="variable">string-tokenize</span> <span class="selfeval">"Hello, World!"</span> <span class="variable">char-set:letter+digit</span>)) <span class="selfeval">" "</span>)
<span class="selfeval">"World Hello"</span>
</pre>
</div>
<p />
This conforms to a more sensible definition of word, but has discarded the punctuation.
<code>string-concatenate-reverse</code> is another interesting function from <a href="/Cookbook/SRFI">SRFI</a>-13.  It works like a combination of <code>string-join</code> and <code>reverse</code>, but without specifying a delimiter string:
<p />
<div class="scheme">
  <pre><span class="builtin">&gt;</span> (<span class="variable">string-concatenate-reverse</span> (<span class="variable">string-tokenize</span> <span class="selfeval">"Hello, World!"</span>))
<span class="selfeval">"World!Hello,"</span>
</pre>
</div>
<p />
-- <a href="/Main/GordonWeakliem">GordonWeakliem</a> - 20 Apr 2004
  <p />
<table border="1" cellspacing="0" cellpadding="0">
   <tr>
  <th colspan="2" align="center" bgcolor="#99CCCC"> <a href="/Cookbook/CookbookForm">CookbookForm</a> </th>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicType">TopicType</a>:</th>
  <td align="left"> Recipe </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/ParentTopic">ParentTopic</a>:</th>
  <td align="left"> <a href="/Cookbook/StringRecipes">StringRecipes</a> </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicOrder">TopicOrder</a>:</th>
  <td align="left"> 070 </td>
</tr>
</table>
<p />
 </div>
</div>
