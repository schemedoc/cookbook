<div id="contentbox">
 <div class="widget">
  <p />
<h2>
  <a name="Aligning_Strings"> Aligning Strings </a>
</h2>
<h3>
  <a name="Problem"> Problem </a>
</h3>
You want to align a string, left, right, or center.  You might use this when generating reports, for example.
<h3>
  <a name="Solution"> Solution </a>
</h3>
The easiest solution is in <a href="http://srfi.schemers.org/srfi-13/srfi-13.html#string-pad" target="_top">SRFI-13</a>,
which solves the left and right padding issues.
<p />
<div class="scheme">
  <pre><span class="builtin">&gt;</span>(<span class="builtin">for-each</span> <span class="builtin">display</span>
          (<span class="builtin">list</span> <span class="selfeval">"|"</span> (<span class="variable">string-pad</span> <span class="selfeval">"Title"</span> <span class="selfeval">20</span>)
                <span class="selfeval">"|"</span> (<span class="variable">string-pad-right</span> <span class="selfeval">"Price"</span> <span class="selfeval">10</span>) <span class="selfeval">"|"</span>))
|               <span class="variable">Title</span>|<span class="variable">Price</span>     |
</pre>
</div>
<code>string-pad</code> and <code>string-pad-right</code> both default to using #\space (the space character) as the padding character; you may override this by providing the character in the third argument.  Both functions also truncate the string provided if it's longer than the specified field width.
There's no definition for <code>string-pad-center</code>, though this is one way to do it:
<div class="scheme">
  <pre>(<span class="keyword">require</span> (<span class="variable">lib</span> <span class="selfeval">"etc.ss"</span>))
(<span class="keyword">define</span> <span class="variable">string-pad-center</span>
    (<span class="variable">opt-lambda</span> (<span class="variable">a-string</span> <span class="variable">width</span> (<span class="variable">pad-char</span> <span class="selfeval">#\space</span>))
    (<span class="keyword">let*</span> ((<span class="variable">field-width</span> (<span class="builtin">min</span> <span class="variable">width</span> (<span class="builtin">string-length</span> <span class="variable">a-string</span>)))
           (<span class="variable">rmargin</span> (<span class="builtin">floor</span> (<span class="builtin">/</span> (<span class="builtin">-</span> <span class="variable">width</span> <span class="variable">field-width</span>) <span class="selfeval">2</span>))))
      (<span class="variable">string-pad</span> (<span class="variable">string-pad-right</span> <span class="variable">a-string</span> (<span class="builtin">-</span> <span class="variable">width</span> <span class="variable">rmargin</span>) <span class="variable">pad-char</span>)
                  <span class="variable">width</span> <span class="variable">pad-char</span>))))
</pre>
</div>
This function returns a string of a minimum width equal to the length of <code>a-string</code>.  If the <code>width</code> argument minus <code>(string-length a-string)</code> is odd, the extra blank space will be put on the right side of <code>a-string</code>.  And, as with the other <code>string-pad</code> functions, it will truncate <code>a-string</code> if it's shorter than <code>width</code>, in this case, it will truncate on the right, e.g.
<div class="scheme">
  <pre><span class="builtin">&gt;</span> (<span class="variable">string-pad-center</span> <span class="selfeval">"Author"</span> <span class="selfeval">5</span>)
<span class="selfeval">"Autho"</span>
<span class="builtin">&gt;</span> (<span class="variable">string-pad-center</span> <span class="selfeval">"Author"</span> <span class="selfeval">10</span>)
<span class="selfeval">"  Author  "</span>
<span class="builtin">&gt;</span> (<span class="variable">string-pad-center</span> <span class="selfeval">"Author"</span> <span class="selfeval">11</span> <span class="selfeval">#\*</span>)
<span class="selfeval">"**Author***"</span>
</pre>
</div>
<p />
<p />
<p />
<h3>
  <a name="Contributors"> Contributors  </a>
</h3>
<p />
-- <a href="/Main/GordonWeakliem">GordonWeakliem</a> - 05 Apr 2004
<p />
<h3>
  <a name="Comments"> Comments </a>
</h3>
  <p />
<table border="1" cellspacing="0" cellpadding="0">
   <tr>
  <th colspan="2" align="center" bgcolor="#99CCCC"> <a href="/Cookbook/CookbookForm">CookbookForm</a> </th>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicType">TopicType</a>:</th>
  <td align="left"> Recipe </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/ParentTopic">ParentTopic</a>:</th>
  <td align="left"> <a href="/Cookbook/StringRecipes">StringRecipes</a> </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicOrder">TopicOrder</a>:</th>
  <td align="left"> 120 </td>
</tr>
</table>
<p />
 </div>
</div>
