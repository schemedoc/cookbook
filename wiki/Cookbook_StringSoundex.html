<div id="contentbox">
 <div class="widget">
  <p />
<h2>
  <a name="Soundex"> Soundex </a>
</h2>
<p />
<h3>
  <a name="Problem"> Problem </a>
</h3>
<p />
You want to generate Soundex hashes of surnames, for doing "sounds-like" indexing databases, or retrieving information from the US Census records and similar pre-existing databases.
<p />
Soundex is a string hash historically used by the US Census for indexing surnames by a function of what they "sound" like, rather than their precise spelling.  Further general information on Soundex is available at <a href="http://www.archives.gov/research_room/genealogy/census/soundex.html" target="_top">http://www.archives.gov/research_room/genealogy/census/soundex.html</a>.
<p />
<h3>
  <a name="Solution"> Solution </a>
</h3>
<p />
Use the <code>soundex.scm</code> library, which can be <span style="background : #FFFFCE;">
  <font color="#0000FF">installed</font>
</span><a href="/edit/Cookbook/InstallingPltBundles?topicparent=Cookbook.StringSoundex">?</a> via a <code>.plt</code> file available from <a href="http://www.neilvandyke.org/soundex-scm/" target="_top">http://www.neilvandyke.org/soundex-scm/</a>.
<p />
Specify the PLT module form of <code>soundex.scm</code> with like:
<p />
<div class="scheme">
  <pre>(<span class="keyword">require</span> (<span class="variable">lib</span> <span class="selfeval">"soundex.ss"</span> <span class="selfeval">"soundex"</span>))
</pre>
</div>
<p />
(Most non-PLT Scheme implementations can use the <code>load</code> procedure or other facility to load the file <code>soundex.scm</code>.)
<p />
Soundex keys are represented as four-character strings:
<p />
<div class="scheme">
  <pre><span class="builtin">&gt;</span> (<span class="variable">soundex</span> <span class="selfeval">"Smith"</span>)
<span class="selfeval">"S530"</span>
<span class="builtin">&gt;</span> (<span class="variable">soundex</span> <span class="selfeval">"Smyth"</span>)
<span class="selfeval">"S530"</span>
</pre>
</div>
<p />
Therefore, the <code>equal?</code> procedure can be used to compare Soundex keys:
<p />
<div class="scheme">
  <pre><span class="builtin">&gt;</span> (<span class="builtin">equal?</span> (<span class="variable">soundex</span> <span class="selfeval">"Johnson"</span>) (<span class="variable">soundex</span> <span class="selfeval">"Jackson"</span>))
<span class="selfeval">#f</span>
<span class="builtin">&gt;</span> (<span class="builtin">equal?</span> (<span class="variable">soundex</span> <span class="selfeval">"Johnson"</span>) (<span class="variable">soundex</span> <span class="selfeval">"JANZEN"</span>))
<span class="selfeval">#t</span>
</pre>
</div>
<p />
Both current NARA Soundex and "old" Soundex are supported (<code>soundex</code> is an alias for <code>soundex-nara</code>):
<p />
<div class="scheme">
  <pre><span class="builtin">&gt;</span> (<span class="variable">soundex-nara</span> <span class="selfeval">"Ashcraft"</span>)
<span class="selfeval">"A261"</span>
<span class="builtin">&gt;</span> (<span class="variable">soundex-old</span> <span class="selfeval">"Ashcraft"</span>)
<span class="selfeval">"A226"</span>
</pre>
</div>
<p />
Multiple Soundex keys based on prefix-skipping can be generated with the <code>soundex-nara/prefixing</code>, <code>soundex-old/prefixing</code>, and <code>soundex/p</code> procedures:
<p />
<div class="scheme">
  <pre><span class="builtin">&gt;</span> (<span class="variable">soundex/p</span> <span class="selfeval">"vanderlinden"</span>)
(<span class="selfeval">"V536"</span> <span class="selfeval">"D645"</span> <span class="selfeval">"L535"</span>)
</pre>
</div>
<p />
<h3>
  <a name="Discussion"> Discussion </a>
</h3>
<p />
Discussion here
<p />
<h3>
  <a name="See_Also"> See Also </a>
</h3>
<p />
<p />
<p />
 </div>
</div>
