<div id="contentbox">
 <div class="widget">
  <p />
<h2><a name="Draw_staircase_graphs_with_PLT_s"> </a> Draw staircase graphs with PLT's <span style="background : #FFFFCE;">
  <font color="#0000FF">PLoT</font>
</span><a href="/edit/Cookbook/PLoT?topicparent=Cookbook.DrawStairCaseGraphs">?</a> </h2>
<p />
<h3>
  <a name="Problem"> Problem </a>
</h3>
<p />
It's not completely obvious how to draw staircase graphs in <span style="background : #FFFFCE;">
  <font color="#0000FF">PLoT</font>
</span><a href="/edit/Cookbook/PLoT?topicparent=Cookbook.DrawStairCaseGraphs">?</a>.
<p />
<h3>
  <a name="Solution"> Solution </a>
</h3>
<p />
The idea is to turn the data into parametric form.  Here's an example:
<div class="scheme">
  <pre>(<span class="keyword">module</span> <span class="variable">staircase</span> <span class="variable">mzscheme</span>
  (<span class="keyword">require</span> (<span class="variable">lib</span> <span class="selfeval">"plot.ss"</span> <span class="selfeval">"plot"</span>)
           (<span class="variable">lib</span> <span class="selfeval">"list.ss"</span>))
  (<span class="keyword">provide</span> <span class="variable">graph-cumulative-time-and-bytes</span>)
  <span class="comment">;; graph-cumulative-time-and-bytes: (listof (list number number)) -&gt; plot-item
</span>  (<span class="keyword">define</span> (<span class="variable">graph-cumulative-time-and-bytes</span> <span class="variable">time&amp;bytes</span>)
    <span class="comment">;; In order to get a staircase effect, we have to
</span>    <span class="comment">;; turn our data into parametric form. Here goes:
</span>    (<span class="keyword">define</span> (<span class="variable">to-parametric</span> <span class="variable">l</span>)
      (<span class="keyword">cond</span>
        [(<span class="variable">empty?</span> (<span class="variable">rest</span> <span class="variable">l</span>)) <span class="variable">l</span>]
        [<span class="keyword">else</span>
         (<span class="builtin">cons</span> (<span class="variable">first</span> <span class="variable">l</span>)
               (<span class="builtin">cons</span> (<span class="builtin">list</span> (<span class="variable">first</span> (<span class="variable">second</span> <span class="variable">l</span>)) (<span class="variable">second</span> (<span class="variable">first</span> <span class="variable">l</span>)))
                     (<span class="variable">to-parametric</span> (<span class="variable">rest</span> <span class="variable">l</span>))))]))
    (<span class="keyword">define</span> <span class="variable">parametric-time&amp;bytes</span> (<span class="variable">to-parametric</span> <span class="variable">time&amp;bytes</span>))
    (<span class="variable">line</span> (<span class="keyword">lambda</span> (<span class="variable">t</span>) (<span class="builtin">list-&gt;vector</span> (<span class="builtin">list-ref</span> <span class="variable">parametric-time&amp;bytes</span> <span class="variable">t</span>)))
          [<span class="variable">mode</span> <span class="keyword">'</span><span class="variable">parametric</span>]
          [<span class="variable">samples</span> (<span class="builtin">length</span> <span class="variable">parametric-time&amp;bytes</span>)]
          [<span class="variable">t-min</span> <span class="selfeval">0</span>]
          [<span class="variable">t-max</span> (<span class="variable">sub1</span> (<span class="builtin">length</span> <span class="variable">parametric-time&amp;bytes</span>))])))
</pre>
</div>
<p />
For example:
<p />
<div class="scheme">
  <pre><span class="builtin">&gt;</span> (<span class="variable">plot</span> (<span class="variable">graph-cumulative-time-and-bytes</span> <span class="keyword">'</span>((<span class="selfeval">1</span> <span class="selfeval">1</span>) (<span class="selfeval">2</span> <span class="selfeval">3</span>) (<span class="selfeval">4</span> <span class="selfeval">7</span>))))
</pre>
</div>
<p />
produces a simple staircase graph.
<p />
<p />
<p />
<h3>
  <a name="Discussion"> Discussion </a>
</h3>
<p />
<p />
<p />
<p />
<hr>
<p />
<h3>
  <a name="Comments_about_this_recipe"> Comments about this recipe </a>
</h3>
<p />
<h3>
  <a name="Contributors"> Contributors </a>
</h3>
<p />
-- <a href="/Main/DannyYoo">DannyYoo</a> - 24 Jan 2007
  <p />
<table border="1" cellspacing="0" cellpadding="0">
   <tr>
  <th colspan="2" align="center" bgcolor="#99CCCC"> <a href="/Cookbook/CookbookForm">CookbookForm</a> </th>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicType">TopicType</a>:</th>
  <td align="left"> Recipe </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/ParentTopic">ParentTopic</a>:</th>
  <td align="left">  </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicOrder">TopicOrder</a>:</th>
  <td align="left"> 999 </td>
</tr>
</table>
<p />
 </div>
</div>
