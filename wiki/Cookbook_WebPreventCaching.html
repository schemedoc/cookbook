<div id="contentbox">
 <div class="widget">
  <p />
<h2>
  <a name="Preventing_Caching_of_Web_Pages"> Preventing Caching of Web Pages </a>
</h2>
<p />
<h3>
  <a name="Problem"> Problem </a>
</h3>
<p />
In a continuation-based web application, URLs are rewritten to refer to continuations.  If you don't take care to prevent caching of pages, the browser will load pages from its cache that contain stale URLs.  This is a problem primarily for the entry point to a web application, as further URLs generated by the application will be unique (due to the inclusion of the continuation's encoding), and hence cannot be cached by the browser.
<p />
<h3>
  <a name="Solution"> Solution </a>
</h3>
<p />
You can send several HTTP headers that disable caching in most browsers.  To send HTTP headers in the PLT Web Server, you use the function <code>make-response/full</code>:
<p />
<div class="scheme">
  <pre>(<span class="variable">make-response/full</span> <span class="selfeval">200</span>
                    <span class="selfeval">"OK"</span>
                    (<span class="variable">current-seconds</span>)
                    <span class="selfeval">#</span><span class="selfeval">"text/html"</span>
                    <span class="keyword">'</span>((<span class="variable">Cache-Control</span> . <span class="selfeval">"no-cache"</span>)
                      (<span class="variable">Pragma</span> . <span class="selfeval">"no-cache"</span>))
                    <span class="variable">&lt;the</span> <span class="variable">content</span> <span class="variable">as</span> <span class="variable">a</span> <span class="builtin">list</span> <span class="variable">of</span> <span class="variable">strings&gt;</span>)
</pre>
</div>
<p />
<h3>
  <a name="Discussion"> Discussion </a>
</h3>
<p />
To convert a XEXPR to a string, use the function <code>xexpr-&gt;string</code>.
<p />
<p />
<hr>
<p />
<h3>
  <a name="Comments_about_this_recipe"> Comments about this recipe </a>
</h3>
<p />
<h3>
  <a name="Contributors"> Contributors </a>
</h3>
<p />
-- <a href="/Main/NoelWelsh">NoelWelsh</a> - 19 Nov 2004
  <p />
<table border="1" cellspacing="0" cellpadding="0">
   <tr>
  <th colspan="2" align="center" bgcolor="#99CCCC"> <a href="/Cookbook/CookbookForm">CookbookForm</a> </th>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicType">TopicType</a>:</th>
  <td align="left"> Recipe </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/ParentTopic">ParentTopic</a>:</th>
  <td align="left"> <a href="/Cookbook/WebRecipes">WebRecipes</a> </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicOrder">TopicOrder</a>:</th>
  <td align="left"> 999 </td>
</tr>
</table>
<p />
 </div>
</div>
