<div id="contentbox">
 <div class="widget">
  <p />
<h2>
  <a name="Simple_Grid_Layout"> Simple Grid Layout </a>
</h2>
<p />
<h3>
  <a name="Problem"> Problem </a>
</h3>
<p />
You want to lay out your widgets in grids.
<p />
<h3>
  <a name="Solution"> Solution </a>
</h3>
<p />
This is possible by using a bunch of <strong>horizontal-panel%</strong> instances.  For example:
<div class="scheme">
  <pre>(<span class="keyword">module</span> <span class="variable">phone-buttons</span> <span class="variable">mzscheme</span>
  (<span class="keyword">require</span> (<span class="variable">lib</span> <span class="selfeval">"class.ss"</span>)
           (<span class="variable">lib</span> <span class="selfeval">"mred.ss"</span> <span class="selfeval">"mred"</span>))
  (<span class="keyword">define</span> ((<span class="variable">make-button</span> <span class="variable">parent</span>) <span class="variable">label</span>)
    (<span class="variable">new</span> <span class="variable">button%</span>
         [<span class="variable">label</span> (<span class="variable">format</span> <span class="selfeval">"~a"</span> <span class="variable">label</span>)]
         [<span class="variable">parent</span> <span class="variable">parent</span>]))
  (<span class="keyword">define</span> <span class="variable">frame</span> (<span class="variable">new</span> <span class="variable">frame%</span> [<span class="variable">label</span> <span class="selfeval">"test"</span>]))
  (<span class="keyword">define</span> <span class="variable">row-1</span> (<span class="variable">make-object</span> <span class="variable">horizontal-panel%</span> <span class="variable">frame</span>))
  (<span class="builtin">for-each</span> (<span class="variable">make-button</span> <span class="variable">row-1</span>) <span class="keyword">'</span>(<span class="selfeval">1</span> <span class="selfeval">2</span> <span class="selfeval">3</span>))
  (<span class="keyword">define</span> <span class="variable">row-2</span> (<span class="variable">make-object</span> <span class="variable">horizontal-panel%</span> <span class="variable">frame</span>))
  (<span class="builtin">for-each</span> (<span class="variable">make-button</span> <span class="variable">row-2</span>) <span class="keyword">'</span>(<span class="selfeval">4</span> <span class="selfeval">5</span> <span class="selfeval">6</span>))
  (<span class="keyword">define</span> <span class="variable">row-3</span> (<span class="variable">make-object</span> <span class="variable">horizontal-panel%</span> <span class="variable">frame</span>))
  (<span class="builtin">for-each</span> (<span class="variable">make-button</span> <span class="variable">row-3</span>) <span class="keyword">'</span>(<span class="selfeval">7</span> <span class="selfeval">8</span> <span class="selfeval">9</span>))
  (<span class="keyword">define</span> <span class="variable">row-4</span> (<span class="variable">make-object</span> <span class="variable">horizontal-panel%</span> <span class="variable">frame</span>))
  (<span class="builtin">for-each</span> (<span class="variable">make-button</span> <span class="variable">row-4</span>) <span class="keyword">'</span>(<span class="builtin">*</span> <span class="selfeval">0</span> <span class="variable">\#</span>))
  (<span class="variable">send</span> <span class="variable">frame</span> <span class="variable">show</span> <span class="selfeval">#t</span>))
</pre>
</div>
<p />
<p />
Another approach involves writing one's own layout container class.
<p />
<div class="scheme">
  <pre>(<span class="keyword">module</span> <span class="variable">simple-grid</span> <span class="variable">mzscheme</span>
  (<span class="keyword">require</span> (<span class="variable">lib</span> <span class="selfeval">"class.ss"</span>)
           (<span class="variable">lib</span> <span class="selfeval">"list.ss"</span>)
           (<span class="variable">lib</span> <span class="selfeval">"plt-match.ss"</span>)
           (<span class="variable">lib</span> <span class="selfeval">"mred.ss"</span> <span class="selfeval">"mred"</span>))
  (<span class="keyword">provide</span> <span class="variable">simple-grid-panel%</span>)
  (<span class="keyword">define</span> <span class="variable">simple-grid-panel%</span>
    (<span class="variable">class</span> <span class="variable">panel%</span>
      (<span class="variable">init</span> [<span class="variable">columns-per-row</span> <span class="selfeval">3</span>])
      (<span class="keyword">define</span> <span class="variable">-columns-per-row</span> <span class="variable">columns-per-row</span>)
      (<span class="variable">super-new</span>)
      (<span class="variable">override</span> <span class="variable">container-size</span> <span class="variable">place-children</span>)
      <span class="comment">;; container-size: (listof (list number number boolean boolean))
</span>      <span class="comment">;;                 -&gt; (values number number)
</span>      <span class="comment">;; Returns our container's minimum size, given the size of
</span>      <span class="comment">;; the children.
</span>      (<span class="keyword">define</span> (<span class="variable">container-size</span> <span class="variable">info</span>)
        (<span class="keyword">let-values</span> ([(<span class="variable">child-width</span> <span class="variable">child-height</span>)
                      (<span class="variable">uniform-child-size</span> <span class="variable">info</span>)]
                     [(<span class="variable">number-of-rows</span>)
                      (<span class="builtin">ceiling</span> (<span class="builtin">/</span> (<span class="builtin">length</span> <span class="variable">info</span>) <span class="variable">-columns-per-row</span>))])
          (<span class="builtin">values</span>
           (<span class="builtin">*</span> <span class="variable">child-width</span> <span class="variable">-columns-per-row</span>)
           (<span class="builtin">*</span> <span class="variable">child-height</span> <span class="variable">number-of-rows</span>))))
      <span class="comment">;; uniform-child-size:
</span>      <span class="comment">;;     (listof (list number number boolean boolean))
</span>      <span class="comment">;;                 -&gt; (values number number)
</span>      <span class="comment">;; returns the minimum width and height that all the children
</span>      <span class="comment">;; can fit into.
</span>      (<span class="keyword">define</span> (<span class="variable">uniform-child-size</span> <span class="variable">info</span>)
        (<span class="keyword">let</span> ([<span class="variable">widths</span> (<span class="builtin">map</span> <span class="variable">first</span> <span class="variable">info</span>)]
              [<span class="variable">heights</span> (<span class="builtin">map</span> <span class="variable">second</span> <span class="variable">info</span>)])
          (<span class="builtin">values</span> (<span class="builtin">apply</span> <span class="builtin">max</span> <span class="variable">widths</span>)
                  (<span class="builtin">apply</span> <span class="builtin">max</span> <span class="variable">heights</span>))))
      <span class="comment">;; place-children: (listof (list integer integer boolean boolean))
</span>      <span class="comment">;;                 integer integer -&gt;
</span>      <span class="comment">;;                 (listof (list integer integer integer integer)
</span>      (<span class="keyword">define</span> (<span class="variable">place-children</span> <span class="variable">info</span> <span class="variable">width</span> <span class="variable">height</span>)
        (<span class="keyword">let-values</span> ([(<span class="variable">child-width</span> <span class="variable">child-height</span>)
                      (<span class="variable">uniform-child-size</span> <span class="variable">info</span>)])
          (<span class="keyword">let</span> <span class="variable">loop</span> ([<span class="variable">info</span> <span class="variable">info</span>]
                     [<span class="variable">i</span> <span class="selfeval">0</span>])
            (<span class="variable">match</span> <span class="variable">info</span>
              [(<span class="builtin">list</span> (<span class="builtin">list</span> <span class="variable">width</span> <span class="variable">height</span> <span class="variable">horiz-stretch?</span> <span class="variable">vert-stretch?</span>)
                     <span class="variable">rest</span> ...)
               (<span class="builtin">cons</span> (<span class="builtin">list</span> (<span class="builtin">*</span> <span class="variable">child-width</span> (<span class="builtin">remainder</span> <span class="variable">i</span> <span class="variable">-columns-per-row</span>))
                           (<span class="builtin">*</span> <span class="variable">child-height</span> (<span class="builtin">quotient</span> <span class="variable">i</span> <span class="variable">-columns-per-row</span>))
                           <span class="variable">width</span>
                           <span class="variable">height</span>)
                     (<span class="variable">loop</span> <span class="variable">rest</span> (<span class="variable">add1</span> <span class="variable">i</span>)))]
              [<span class="keyword">else</span> <span class="variable">empty</span>])))))))
</pre>
</div>
<p />
With this, the phone-number example at the beginning can be written
more simply:
<p />
<div class="scheme">
  <pre>  (<span class="keyword">define</span> (<span class="variable">phone-numbers</span>)
    (<span class="keyword">define</span> ((<span class="variable">make-button</span> <span class="variable">parent</span>) <span class="variable">label</span>)
      (<span class="variable">new</span> <span class="variable">button%</span>
           [<span class="variable">label</span> (<span class="variable">format</span> <span class="selfeval">"~a"</span> <span class="variable">label</span>)]
           [<span class="variable">parent</span> <span class="variable">parent</span>]))
    (<span class="keyword">define</span> <span class="variable">frame</span> (<span class="variable">new</span> <span class="variable">frame%</span> [<span class="variable">label</span> <span class="selfeval">"test"</span>]))
    (<span class="keyword">define</span> <span class="variable">grid</span> (<span class="variable">new</span> <span class="variable">simple-grid-panel%</span> [<span class="variable">parent</span> <span class="variable">frame</span>]))
    (<span class="builtin">for-each</span> (<span class="variable">make-button</span> <span class="variable">grid</span>) <span class="keyword">'</span>(<span class="selfeval">1</span> <span class="selfeval">2</span> <span class="selfeval">3</span>
                                   <span class="selfeval">4</span> <span class="selfeval">5</span> <span class="selfeval">6</span>
                                   <span class="selfeval">7</span> <span class="selfeval">8</span> <span class="selfeval">9</span>
                                   <span class="builtin">*</span> <span class="selfeval">0</span> <span class="variable">\#</span>))
    (<span class="variable">send</span> <span class="variable">frame</span> <span class="variable">show</span> <span class="selfeval">#t</span>))
</pre>
</div>
<p />
<p />
<h3>
  <a name="Discussion"> Discussion </a>
</h3>
<p />
<p />
<p />
<p />
<hr>
<p />
<h3>
  <a name="Comments_about_this_recipe"> Comments about this recipe </a>
</h3>
<p />
<h3>
  <a name="Contributors"> Contributors </a>
</h3>
<p />
-- <a href="/Main/DannyYoo">DannyYoo</a> - 23 Apr 2006
  <p />
<table border="1" cellspacing="0" cellpadding="0">
   <tr>
  <th colspan="2" align="center" bgcolor="#99CCCC"> <a href="/Cookbook/CookbookForm">CookbookForm</a> </th>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicType">TopicType</a>:</th>
  <td align="left"> Recipe </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/ParentTopic">ParentTopic</a>:</th>
  <td align="left"> GUIRecipes </td>
</tr>
<tr>
  <th bgcolor="#99CCCC" align="right"> <a href="/Cookbook/TopicOrder">TopicOrder</a>:</th>
  <td align="left"> 999 </td>
</tr>
</table>
<p />
 </div>
</div>
