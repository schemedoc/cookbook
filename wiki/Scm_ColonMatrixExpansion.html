<div id="contentbox">
 <div class="widget">
  (:matrix x (index i j) M)
<p />
=&gt;
<p />
(let ((m matrix)
      (rows #f)
      (cols #f))
  (set! rows (matrix-rows m))
  (set! cols (matrix-cols m))
  (let loop ((i 0) (j 0))
    (if (&lt; i rows)
        (let ((x (matrix-ref m i j))
              (i+1 (+ i 1))
              (j+1 (+ j 1))
              (wrap? #f))
          (set! wrap? (&gt;= j+1 cols))
          (if #t
              (begin
                (do-payload ...)
                (loop (if wrap? i+1 i)
                      (if wrap? 0 j+1))))))))
<p />
<p />
 </div>
</div>
